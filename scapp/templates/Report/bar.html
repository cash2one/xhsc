<html>
<head>
<script type="text/javascript" src="/static/ofc2/json2.js"></script>
<script type="text/javascript" src="/static/ofc2/swfobject.js"></script>
</head>
<body>
<h2>柱状图</h2><input type="button" onclick="OFC.jquery.imageData('my_chart');" value="导出">
<form id="content" method="POST" action="/Report/flash/export_pic" target="targetFrame">
  <div id="my_chart"></div>
  <input type="hidden" id="imageData" name="imageData">
</form>
<iframe id="targetFrame" name="targetFrame" style="width:0;height:0;display:none"></iframe>
</body>

<script type="text/javascript">
swfobject.embedSWF("/static/ofc2/open-flash-chart.swf", "my_chart",
  "100%", "450", "9.0.0", "expressInstall.swf",
  {"get-data":"getDemoData"});
function getDemoData(){
	var barData=

{
  "title":{
    "text":  "Many data lines",
    "style": "{font-size: 20px; color:#0000ff; font-family: Verdana; text-align: center;}"
  },

  "y_legend":{
    "text": "Open Flash Chart",
    "style": "{color: #736AFF; font-size: 12px;}"
  },
  "elements":[
    {
      "type":      "bar_3d",
      "alpha":     0.5,
      "colour":    "#9933CC",
      "text":      "Page views",
      "font-size": 10,
      "on-show":    {       /* 展现样式 */  
          "type":"pop-up",     /* 弹出方式, pop-up */  
       /* "type":"pop-up"   向上弹出 */  
          "cascade":0.5,          /* 不通柱子之间的间隔时间为 1 */  
          "delay":0.5          /* 延迟时间 */  
      },  
      "values" :   [{"top":9,"colour":"#66b032","tip":"#top#<br>hello"},
                    {"top":6,"colour":"#d0ea2b","tip":"#top#<br>hello"},
                    {"top":8,"colour":"#fefe33","tip":"#top#<br>hello"},
                    {"top":9,"colour":"#fabc02","tip":"#top#<br>hello"},
                    {"top":6,"colour":"#fb9902","tip":"#top#<br>hello"},
                    {"top":7,"colour":"#fd5308","tip":"#top#<br>hello"},
                    {"top":5,"colour":"#fe2712","tip":"#top#<br>hello"},
                    {"top":9,"colour":"#a7194b","tip":"#top#<br>hello"},
                    {"top":7,"colour":"#8601af","tip":"#top#<br>hello"},
                    {"top":6,"colour":"#3d01a4","tip":"#top#<br>hello"},
                    {"top":8,"colour":"#4b4bfc","tip":"#top#<br>hello"},                    
                    {"top":9,"colour":"#0247fe","tip":"#top#<br>hello"} 
                    ]
    }
  ],

  "x_axis":{
    "stroke":       1,
    "tick_height":  10,
    "labels": {
      "labels": ["1","2","3","4","5","6","7","8","9","10","11","12"]
    },
    "3d":         5
   },

  "y_axis":{
    "stroke":      4,
    "tick_length": 3,
    "steps":1,
    "offset":      1,
    "max":         20
  },
  "bg_colour":"#ffffff"

/* &x_axis_steps=2& */

}

;
   return JSON.stringify(barData);
}

</script>

<script type="text/javascript">
  OFC = {};

  OFC.jquery = {
      name: "jQuery",
      version: function(src) { 
        return $('#'+ src)[0].get_version() 
      },
      rasterize: function (src, dst) {
       $('#'+ dst).replaceWith(OFC.jquery.image(src)) 
      },
      image: function(src) { 
        return "<img src='data:image/png;base64," + $('#'+src)[0].get_img_binary() + "' />"
      },
      imageData: function(src) { 
        $("#imageData").val($('#'+src)[0].get_img_binary());
        submitForm('content','/Report/flash/export_pic');
      }
  };

  // Using an object as namespaces is JS Best Practice. I like the Control.XXX style.
  //if (!Control) {var Control = {}}
  //if (typeof(Control == "undefined")) {var Control = {}}
  if (typeof(Control == "undefined")) {var Control = {OFC: OFC.jquery}};

</script>
  <script src="/static/js/jquery-1.7.2.min.js"></script>
  <script src="/static/js/bootstrap.min.js"></script>
  <script src="/static/js/script.js"></script>
</html>