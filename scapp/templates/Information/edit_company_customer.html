<!DOCTYPE html>
<html lang="zh-cn">
<head>	
	<meta charset="utf-8">
	<title>小微贷款业务管理系统</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Charisma, a fully featured, responsive, HTML5, Bootstrap admin template.">
	<meta name="author" content="Muhammad Usman">

	<!-- The styles -->
	<link href="/static/css/bootstrap.css" rel="stylesheet">
	<link href="/static/css/main.css" rel="stylesheet">
	<link href="/static/css/datepicker.css" rel="stylesheet">
	<!-- ************************验证样式************************-->
	<script src="/static/SpryAssets/SpryValidationTextField.js" type="text/javascript"></script>
	<link href="/static/SpryAssets/SpryValidationTextField.css" rel="stylesheet" type="text/css">
	<style type="text/css">
		.table-list .table-label{width:140px;}
	</style>
	
</head>

<body onload="datepicker();$('input[name=gszczj]').click();">
	<form class="content" method="POST" action="/Information/edit_company_customer/{{customer.id}}" target="_top">
		<div style="border:1px solid #94c1dc;" >
		<!--**********************公司类**********************-->		
			<table class="table-list">
				<tr>
					<td class="table-label">客户类型<font class="red">*</font></td>
					<td width="34%">&nbsp;公司类</td>
					<td class="table-label">客户编号<font class="red">*</font></td>
					<td>
						<span id="customer_no">
							<input type="text" name="customer_no"  value="{{customer.customer_no}}" onkeyup="value=value.replace(/[^\a-\z\A-\Z0-9]/g,'')" maxlength="16"/>
							<span class="textfieldRequiredMsg">不能为空</span>
						</span>
					</td>								
				</tr>
				<tr>
					<td class="table-label">公司名称<font class="red">*</font></td>
					<td>
						<span id="customer_name">
							<input type="text" name="customer_name" value="{{customer.customer_name}}" onchange="spryMaxLength(this,128)" class="long"/>
							<span class="textfieldRequiredMsg">不能为空</span>
							<span class="errorInfo">字符数不得大于128</span>
						</span>
					</td>	
					<td class="table-label">负责管理客户经理<font class="red">*</font></td>
					<td>
						<input type="text" id="manager_name" value="{{customer.user_for_company.login_name}}" readonly/>
						<input type="button" value="搜索" class="btn" onclick="$('.display-div').show();" />
						<span id="manager_name_spay">
							<input type="hidden" id="manager" name="manager" value="{{customer.manager}}"/>
							<span class="textfieldRequiredMsg">不能为空</span>
						</span>
						
						<div class="display-div" id="xdyss"><!--onmouseleave="setTimeout(function(){$('.display-div').hide();},3000)"-->
							<i class="icon-bookmark"></i><span class="titletip">客户经理搜索</span>
							<div style="border:1px solid #94c1dc;">
								<table class="table-list">
									<tr>
										<td class="table-label">客户经理编号</td>
										<td><input type="text"/></td>	
										<td class="table-label">客户经理名称</td>
										<td><input type="text"/></td>	
									</tr>
								</table>
							</div>																		
							<input type="button" value="关闭" class="btn btn-info btn-mini pull-right" onclick="$('.display-div').hide();"/>
							<input type="button" value="搜索" class="btn btn-info btn-mini pull-right"/><br/>
							<i class="icon-bookmark"></i><span class="titletip">客户经理列表</span>
							<div style="border:1px solid #94c1dc;">
								<table class="table-list">
									<thead>
										<tr>
											<th>选择</th>	
											<th>客户经理编号</th>										
											<th>客户经理名称</th>												
										</tr>
									</thead>
									<tbody class="center">
										{%- for obj in user %}
										<tr>
											<td><input type="radio" name="xdy" onclick="get_name(this,'manager_name','manager');"/></td>		
											<td>{{obj.id}}</td>												
											<td>{{obj.login_name}}</td>												
										</tr>		
										{%- endfor %}											
									</tbody>
								</table>
							</div>
						</div><!--/display-div-->
					</td>	
				</tr>
				<tr>							
					<td class="table-label">法人代表<font class="red">*</font></td>
					<td colspan="3">
						<span id="frdb">
							<input type="text" name="frdb" value="{{customer.frdb}}" onchange="spryMaxLength(this,32)"/>
							<span class="textfieldRequiredMsg">不能为空</span>
							<span class="errorInfo">字符数不得大于32</span>
						</span>
					</td>								
				</tr>
				<tr>
					<td class="table-label">营业执照号码<font class="red">*</font></td>
					<td>
						<span id="yyzz">
							<input type="text" name="yyzz" value="{{customer.yyzz}}" onkeyup="value=value.replace(/[^\a-\z\A-\Z0-9]/g,'')" maxlength="32"/>
							<span class="textfieldRequiredMsg">不能为空</span>
						</span>
					</td>	
					<td class="table-label">营业执照发证机关<font class="red">*</font></td>
					<td>
						<span id="yyzz_fzjg">
							<input type="text" name="yyzz_fzjg" value="{{customer.yyzz_fzjg}}" onchange="spryMaxLength(this,64)"/>
							<span class="textfieldRequiredMsg">不能为空</span>
							<span class="errorInfo">字符数不得大于64</span>
						</span>
					</td>	
				</tr>
				<tr>
					<td class="table-label">税务登记证号码<font class="red">*</font></td>
					<td>
						<span id="swdjz">							
							<input type="text" name="swdjz" value="{{customer.swdjz}}" onkeyup="value=value.replace(/[^\a-\z\A-\Z0-9]/g,'')" maxlength="32"/>
							<span class="textfieldRequiredMsg">不能为空</span>
						</span>
					</td>	
					<td class="table-label">税务登记证发证机关<font class="red">*</font></td>
					<td>
						<span id="swdjz_fzjg">							
							<input type="text" name="swdjz_fzjg" value="{{customer.swdjz_fzjg}}" onchange="spryMaxLength(this,64)"/>
							<span class="textfieldRequiredMsg">不能为空</span>
							<span class="errorInfo">字符数不得大于64</span>
						</span>	
					</td>	
				</tr>
				<!--<tr>
					<td class="table-label">组织机构代码证号码*</td>
					<td><input type="text"/></td>	
					<td class="table-label">发证机关*</td>
					<td><input type="text"/></td>	
				</tr>-->
				<tr>
					<td class="table-label">公司注册资金（元）<font class="red">*</font></td>
					<td>
						<span id="gszczj">	
							<input type="text" name="gszczj" value="{{customer.gszczj}}" onkeyup="setJe(this);" maxlength="11" onclick="setJe(this);"/>
							<span class="textfieldRequiredMsg">不能为空</span><br/>
							<span class="je"></span>
							<span class="errorInfo"></span>			
						</span>	
					</td>	
					<td class="table-label">公司营业范围<font class="red">*</font></td>
					<td>
						<span id="gsyyfw">	
							<input type="text" name="gsyyfw" value="{{customer.gsyyfw}}" onchange="spryMaxLength(this,128)" class="long"/>
							<span class="textfieldRequiredMsg">不能为空</span>
							<span class="errorInfo">字符数不得大于128</span>
						</span>
					</td>	
				</tr>
				<tr>
					<td class="table-label">公司成立日期<font class="red">*</font></td>
					<td>
						<input type="text" name="gsclrq" class="datepicker" value="{{customer.gsclrq.strftime('%Y-%m-%d')}}" data-date-format="yyyy-mm-dd" readonly/>
						<!-- <input type="text" name="gsclrq" class="datepicker" value="{{customer.gsclrq.strftime('%Y-%m-%d')}}" data-date-format="yyyy-mm-dd" onblur="hiddenInput('yzgsclrq',this)" readonly/>
						<span id="gsclrq">
    						<input type="hidden" id="yzgsclrq" value="{{customer.gsclrq.strftime('%Y-%m-%d')}}"/>
   							<span class="textfieldRequiredMsg">不能为空</span>
   							<span class="textfieldInvalidFormatMsg">日期格式无效</span>
   						</span> -->
					</td>	
					<td class="table-label">公司注册类型<font class="red">*</font></td>
					<td>
						<select name="gszclx">
							{%- for obj in regisiter_type %}
								{%- if obj.id == customer.gszclx %}
									<option value="{{obj.id}}" selected>{{obj.type_name}}</option>
								{%- else %}	
									<option value="{{obj.id}}">{{obj.type_name}}</option>
								{%- endif %}	
							{%- endfor %}
						</select>
					</td>	
				</tr>
				<tr>							
					<td class="table-label">基本户帐号<font class="red">*</font></td>
					<td colspan="3">
						<span id="jbhzh">
    						<input type="text" name="jbhzh" value="{{customer.jbhzh}}" onkeyup="value=value.replace(/[^\d\.]/g,'')" maxlength="32"/>
   							<span class="textfieldRequiredMsg">不能为空</span>
   						</span>	
					</td>								
				</tr>
				<tr>							
					<td class="table-label">公司注册地址</td>
					<td colspan="3">
						<span id="zcdz">	
							<input type="text" name="zcdz" value="{{customer.zcdz}}" onchange="spryMaxLength(this,128)" class="long"/>
							<span class="errorInfo">字符数不得大于128</span>
						</span>
					</td>								
				</tr>
				<tr>							
					<td class="table-label">现地址</td>
					<td colspan="3">
						<span id="xdz">	
							<input type="text" name="xdz" value="{{customer.xdz}}" onchange="spryMaxLength(this,128)" class="long"/>
							<span class="errorInfo">字符数不得大于128</span>
						</span>
					</td>								
				</tr>
				<tr>							
					<td class="table-label">办公地址</td>
					<td colspan="3">
						<span id="bgdz">	
							<input type="text" name="bgdz" value="{{customer.bgdz}}" onchange="spryMaxLength(this,128)" class="long"/>
							<span class="errorInfo">字符数不得大于128</span>
						</span>
					</td>								
				</tr>
				<tr>							
					<td class="table-label">其他地址</td>
					<td colspan="3">
						<span id="qtdz">	
							<input type="text" name="qtdz" value="{{customer.qtdz}}" onchange="spryMaxLength(this,128)" class="long"/>
							<span class="errorInfo">字符数不得大于128</span>
						</span>
					</td>								
				</tr>
				<tr>							
					<td class="table-label">家庭情况</td>
					<td colspan="3">
						<span id="family">	
							<input type="text" name="family" value="{{customer.family}}" onchange="spryMaxLength(this,256)" class="long"/>
							<span class="errorInfo">字符数不得大于256</span>
						</span>
					</td>								
				</tr>
				<tr>							
					<td class="table-label">教育程度</td>
					<td>
						<select id="education" name="education">
							{%- if customer.education == '研究生' %}
								<option value="研究生" selected>研究生</option>
							{%- else %}
								<option value="研究生">研究生</option>
							{%- endif %}
							{%- if customer.education == '大学本科' %}
								<option value="大学本科" selected>大学本科</option>
							{%- else %}
								<option value="大学本科">大学本科</option>
							{%- endif %}
							{%- if customer.education == '中专' %}
								<option value="中专" selected>中专</option>
							{%- else %}
								<option value="中专">中专</option>
							{%- endif %}
							{%- if customer.education == '高中' %}
								<option value="高中" selected>高中</option>
							{%- else %}
								<option value="高中">高中</option>
							{%- endif %}
						</select>
					</td>		
					<td class="table-label">固定电话</td>
					<td>
						<span id="telephone">
    						<input type="text" name="telephone" value="{{customer.telephone}}" onKeyUp="value=value.replace(/\D/g,'')" maxlength="12"/>
  							<span class="textfieldInvalidFormatMsg">格式无效</span>
  							<span class="textfieldMinCharsMsg">格式无效</span>
  							<span class="textfieldMaxCharsMsg">格式无效</span>
  						</span>	
					</td>							
				</tr>
				<tr>							
					<td class="table-label">手机</td>
					<td>
						<span id="mobile">
    						<input type="text" name="mobile" value="{{customer.mobile}}"/>
							<span class="textfieldInvalidFormatMsg">格式无效</span>
						</span>
					</td>		
					<td class="table-label">联系电话</td>
					<td>
						<span id="contact_phone">
    						<input type="text" name="contact_phone" value="{{customer.contact_phone}}" onKeyUp="value=value.replace(/\D/g,'')" maxlength="12"/>
  							<span class="textfieldInvalidFormatMsg">格式无效</span>
  							<span class="textfieldMinCharsMsg">格式无效</span>
  							<span class="textfieldMaxCharsMsg">格式无效</span>
  						</span>
					</td>							
				</tr>
				<tr>							
					<td class="table-label">E-mail</td>
					<td>
						<span id="email">
    						<input type="text" name="email" value="{{customer.email}}" maxlength="32"/>
							<span class="textfieldInvalidFormatMsg">格式无效</span>
						</span>
					</td>		
					<td class="table-label">是否激活</td>
					<td>
						{%- if customer.is_active == "1" %}
							<label><input type="radio" name="is_active" checked value="1"/>是</label>
							<label><input type="radio" name="is_active" value="0"/>否</label>
						{%- else %}	
							<label><input type="radio" name="is_active" value="1"/>是</label>
							<label><input type="radio" name="is_active" checked value="0"/>否</label>
						{%- endif %}
					</td>							
				</tr>
			</table>			
		</div>
		<span class="point">*为必填字段</span><br/>
		<input type="submit" value="提交" class="btn btn-info"/>
		<input type="reset" value="重置" class="btn btn-info" />
	</form>

	<script src="/static/js/jquery-1.7.2.min.js"></script>
	<script src="/static/js/bootstrap.min.js"></script>
	<script src="/static/js/script.js"></script>
	<script src="/static/js/bootstrap-datepicker.js"></script>
	<script type="text/javascript">
		var max=0;
		var jegs=0;
		var num=0;
		var idCard=0;
		var phone=0;
		var sprytextfield1 = new Spry.Widget.ValidationTextField("customer_no", "none", {validateOn:["blur"]});
		var sprytextfield2 = new Spry.Widget.ValidationTextField("customer_name", "none", {validateOn:["blur"]});		
		var sprytextfield3 = new Spry.Widget.ValidationTextField("manager_name_spay", "none", {validateOn:["blur"]});
		var sprytextfield4 = new Spry.Widget.ValidationTextField("frdb", "none", {validateOn:["blur"]});
		var sprytextfield5 = new Spry.Widget.ValidationTextField("yyzz", "none", {validateOn:["blur"]});
		var sprytextfield6 = new Spry.Widget.ValidationTextField("yyzz_fzjg", "none", {validateOn:["blur"]});
		var sprytextfield7 = new Spry.Widget.ValidationTextField("swdjz", "none", {validateOn:["blur"]});
		var sprytextfield8 = new Spry.Widget.ValidationTextField("swdjz_fzjg", "none", {validateOn:["blur"]});
		var sprytextfield9 = new Spry.Widget.ValidationTextField("gszczj", "none", {validateOn:["blur"]});
		var sprytextfield10 = new Spry.Widget.ValidationTextField("gsyyfw", "none", {validateOn:["blur"]});
		//var sprytextfield11 = new Spry.Widget.ValidationTextField("gsclrq", "date", {format:"yyyy-mm-dd", validateOn:["blur"]});
		//var spryselect1 = new Spry.Widget.ValidationSelect("gszclx_spry", {validateOn:["blur"], invalidValue:"0", isRequired:false});
		var sprytextfield12 = new Spry.Widget.ValidationTextField("jbhzh", "none", {validateOn:["blur"]});
		//var spryselect2 = new Spry.Widget.ValidationSelect("education_spry", {validateOn:["blur"], invalidValue:"0", isRequired:false});
		var sprytextfield13 = new Spry.Widget.ValidationTextField("mobile", "phone_number", {validateOn:["blur"], format:"phone_custom", pattern:"10000000000", isRequired:false});
		var sprytextfield14 = new Spry.Widget.ValidationTextField("email", "email", {validateOn:["blur"], isRequired:false});
		var sprytextfield15 = new Spry.Widget.ValidationTextField("telephone", "integer", {isRequired:false, validateOn:["blur"], minChars:11, maxChars:12});
		var sprytextfield16 = new Spry.Widget.ValidationTextField("contact_phone", "integer", {isRequired:false, validateOn:["blur"], minChars:11, maxChars:12});
	</script>
</body>
</html>
